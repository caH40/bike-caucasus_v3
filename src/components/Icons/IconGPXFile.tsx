'use client';

import cn from 'classnames/bind';
import { Tooltip } from 'react-tooltip';

import type { CSSVariables, TIconProps } from '@/types/index.interface';
import styles from './icons.module.css';

const cx = cn.bind(styles);

export default function IconGPXFile({
  isActive,
  squareSize = 24,
  getClick,
  colors = { default: 'currentColor', active: 'currentColor', hover: 'currentColor' },
  tooltip,
}: TIconProps) {
  const style: React.CSSProperties & CSSVariables = {
    width: squareSize,
    height: squareSize,
    '--color-icon-default': colors.default,
    '--color-icon-active': colors.active,
    '--color-icon-hover': colors.hover,
  };
  return (
    <div
      onClick={getClick}
      className={cx('box', {
        interactive: getClick,
        active: isActive,
      })}
      style={{ ...style, width: squareSize, height: squareSize }}
      id={tooltip?.id}
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.377 11.4844C12.6016 11.4844 12.7822 11.5413 12.9189 11.6553C13.0589 11.7692 13.1598 11.9206 13.2217 12.1094C13.2868 12.2949 13.3193 12.4935 13.3193 12.7051C13.3193 12.9232 13.2868 13.1185 13.2217 13.291C13.1598 13.4635 13.0589 13.5986 12.9189 13.6963C12.7822 13.7907 12.6016 13.8379 12.377 13.8379H11.2979V11.4844H12.377Z"
          fill="currentColor"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M21 4.77832V9L21.1025 9.00488C21.6067 9.05621 22 9.48232 22 10V18C22 18.5177 21.6067 18.9438 21.1025 18.9951L21 19V23L20.9951 23.1025C20.9472 23.573 20.573 23.9472 20.1025 23.9951L20 24H4C3.48232 24 3.05621 23.6067 3.00488 23.1025L3 23V19C2.44772 19 2 18.5523 2 18V10C2 9.44772 2.44772 9 3 9V1C3 0.447715 3.44772 4.0266e-09 4 0H16.2217L21 4.77832ZM4 23H20V19H4V23ZM6.48828 10.2881C6.09766 10.2881 5.74935 10.3499 5.44336 10.4736C5.13737 10.5973 4.87533 10.7861 4.65723 11.04C4.44238 11.2939 4.27799 11.6113 4.16406 11.9922C4.05339 12.3698 3.99805 12.8141 3.99805 13.3252V14.5654C3.99805 15.0798 4.05827 15.5257 4.17871 15.9033C4.30241 16.2809 4.47656 16.5967 4.70117 16.8506C4.92904 17.1012 5.20085 17.2884 5.5166 17.4121C5.83561 17.5358 6.1888 17.5977 6.57617 17.5977C7.02539 17.5977 7.40137 17.5439 7.7041 17.4365C8.01009 17.3258 8.25586 17.1989 8.44141 17.0557C8.62695 16.9092 8.76693 16.7822 8.86133 16.6748V13.8086H6.47363V14.8145H7.55762V16.2012C7.5153 16.2272 7.45833 16.2663 7.38672 16.3184C7.31836 16.3672 7.22559 16.4111 7.1084 16.4502C6.99121 16.4893 6.83496 16.5088 6.63965 16.5088C6.41829 16.5088 6.22461 16.473 6.05859 16.4014C5.89258 16.3298 5.75423 16.2158 5.64355 16.0596C5.53288 15.9033 5.44824 15.7015 5.38965 15.4541C5.33431 15.2067 5.30664 14.9105 5.30664 14.5654V13.3154C5.30664 12.9704 5.32943 12.6758 5.375 12.4316C5.42383 12.1875 5.49707 11.9873 5.59473 11.8311C5.69564 11.6748 5.82096 11.5609 5.9707 11.4893C6.1237 11.4144 6.30436 11.377 6.5127 11.377C6.74707 11.377 6.9375 11.4176 7.08398 11.499C7.23372 11.5804 7.34928 11.7106 7.43066 11.8896C7.51204 12.0687 7.56576 12.3079 7.5918 12.6074H8.86133C8.82552 12.1061 8.7181 11.6829 8.53906 11.3379C8.36328 10.9928 8.10612 10.7324 7.76758 10.5566C7.43229 10.3776 7.00586 10.2881 6.48828 10.2881ZM9.98926 10.3906V17.5H11.2979V14.9316H12.377C12.849 14.9316 13.2526 14.8405 13.5879 14.6582C13.9264 14.4759 14.1868 14.2188 14.3691 13.8867C14.5514 13.5547 14.6426 13.1576 14.6426 12.6953C14.6426 12.2493 14.5514 11.8538 14.3691 11.5088C14.1868 11.1605 13.9264 10.887 13.5879 10.6885C13.2526 10.4899 12.849 10.3906 12.377 10.3906H9.98926ZM15.043 10.3906L16.8057 13.8867L15.0039 17.5H16.4834L17.5723 14.9951L18.666 17.5H20.1748L18.3926 13.9111L20.1406 10.3906H18.6807L17.6309 12.8467L16.5371 10.3906H15.043ZM4 9H20V6H16C15.4477 6 15 5.55228 15 5V1H4V9Z"
          fill="currentColor"
        />
      </svg>

      <Tooltip anchorSelect={`#${tooltip?.id}`} place="top" className={cx('tooltip')}>
        {tooltip && <div dangerouslySetInnerHTML={{ __html: tooltip.text }} />}
      </Tooltip>
    </div>
  );
}
